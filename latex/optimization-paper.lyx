#LyX 2.3 created this file. For more info see http://www.lyx.org/
\lyxformat 544
\begin_document
\begin_header
\save_transient_properties true
\origin unavailable
\textclass heb-article
\begin_preamble
\def\HeblatexEncoding{HE8}
\def\HeblatexEncodingFile{he8enc}
\end_preamble
\use_default_options true
\maintain_unincluded_children false
\language hebrew
\language_package default
\inputencoding auto
\fontencoding global
\font_roman "default" "default"
\font_sans "default" "default"
\font_typewriter "default" "default"
\font_math "auto" "auto"
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100 100
\font_tt_scale 100 100
\use_microtype false
\use_dash_ligatures true
\graphics default
\default_output_format default
\output_sync 0
\bibtex_command default
\index_command default
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry true
\use_package amsmath 1
\use_package amssymb 1
\use_package cancel 1
\use_package esint 1
\use_package mathdots 1
\use_package mathtools 1
\use_package mhchem 1
\use_package stackrel 1
\use_package stmaryrd 1
\use_package undertilde 1
\cite_engine basic
\cite_engine_type default
\biblio_style plain
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\justification true
\use_refstyle 1
\use_minted 0
\index Index
\shortcut idx
\color #008000
\end_index
\leftmargin 0.79in
\topmargin 0.79in
\rightmargin 0.79in
\bottommargin 0.79in
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\is_math_indent 0
\math_numbering_side default
\quotes_style english
\dynamic_quotes 0
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Title
עבודת גמר
\family roman
\series medium
\shape up
\size largest
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 - אופטימיזציה 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
88-782
\end_layout

\begin_layout Author
רותם גזית, ת
\begin_inset Quotes erd
\end_inset

ז
\family roman
\series medium
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
318446697
\end_layout

\begin_layout Date
סמסטר חורף
\family roman
\series medium
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2020
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
הקדמה
\end_layout

\begin_layout Subsection
עולם הבעיה
\end_layout

\begin_layout Standard
נסיעה בפקקים הפכה להיות דבר שבשגרה למרבית האוכלוסייה בעולם המערבי.
 כיוון ששעות העבודה של רוב בתי העסק והחברות מסנוכרנות, נוצרים 
\begin_inset Quotes eld
\end_inset

זמני עומס
\begin_inset Quotes erd
\end_inset

 )
\lang english
rush hours
\lang hebrew
( בהן הדרכים נמצאות בספיקה מקסימלית, מה שמוביל לפקקי תנועה.
\end_layout

\begin_layout Standard
פתרונות טכנולוגיים רבים עוסקים בתחום הזה.

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
waze
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
למשל מציעה למשתמשיה מסלולים אלטרנטיביים עמוסים פחות, אותם היא יכולה לחשב
 ע
\begin_inset Quotes erd
\end_inset

ס משתמשים אחרים שנעים בצירים ומדווחים לה בחזרה מה המהירות הממוצעת בכל קטע.
 משתמש ב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
waze
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מקבל תשובה לשאלה 
\begin_inset Quotes eld
\end_inset

מה הדרך המומלצת ביותר בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
X
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל
\lang english
Y
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כרגע
\begin_inset Quotes erd
\end_inset

 על ידי כך שנוסעים אחרים זזים בצירים המרכזיים המקשרים את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
X
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Y
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
כבר עכשיו.
\end_layout

\begin_layout Standard
מטרת הפרויקט היא לתת גישה אחרת לפתרון בעיית הנסיעה בפקקים.
 במקום לדעת 
\series bold
מהי
\series default
 הדרך המומלצת 
\series bold
כרגע
\series default
, אני רוצה לדעת 
\series bold
מתי
\series default
 לצאת כדי לנסוע כמה שפחות זמן בדרך שלי.
\begin_inset Newline newline
\end_inset

כלומר, אני מראש יודע מה הדרך המועדפת לנסיעה בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
X
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Y
\lang hebrew
, ורק רוצה לדעת מתי עדיף לי לנסוע בה.
 לצורך העניין - אני יודע מה הדרך הטובה ביותר מבחינתי לנסוע מביתי לאוניברסיטה
 )יכול להיות שהיא לא ניתנת לבחירתי, למשל אם משתמשים בתחבורה ציבורית(, אבל
 המטרה שלי היא להיות כמה שפחות זמן על הכביש, ועל כן אני מבקש המלצה לזמן
 היציאה האידיאלי.
\end_layout

\begin_layout Standard
כמובן שמינימיזציה שכזו תהיה מאוד משעממת, כי סביר להניח שבאמצע הלילה כל הצירים
 יהיו ריקים וזמן הנסיעה בהם יהיה מינימלי.
 לכן היינו רוצים להוסיף זמן מינימלי ומקסימלי ליציאה בתור חסמים.
\begin_inset Newline newline
\end_inset

בסה
\begin_inset Quotes erd
\end_inset

כ אני רוצה לדעת מה היא שעת היציאה שתיתן לי זמן נסיעה מינימלי בציר, תוך התנאי
 ששעת היציאה צריכה להיות בטווח זמנים מסוים.
\end_layout

\begin_layout Standard
הסיבה שאני רוצה לקבל מדד כזה נובעת מכך שבעבודה שלי אין לי שעת הגדרה קשיחה
 )היות ואני משתכר שכר גלובלי(, אלא טווח זמנים שבו אני צריך להיות במשרד שלי.
 כיוון שאין לי סיבה מוגדרת להגיע בשעה 
\lang english

\begin_inset Formula $7^{\text{\underbar{30}}}$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לעומת 
\begin_inset Formula $7^{\text{\underbar{40}}}$
\end_inset

, אני פשוט מעדיף לנסוע כשאין פקקים.
\begin_inset Newline newline
\end_inset

בתל אביב מצב הפקקים חמור במיוחד
\begin_inset Foot
status collapsed

\begin_layout Plain Layout

\lang english
https://www.tomtom.com/en_gb/traffic-index/tel-aviv-traffic#statistics
\end_layout

\end_inset

.
 תל אביב מדורגת במקום
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
9
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 מבין 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
240
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 הערים הפקוקות באירופה, ובמקום 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
21
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מבין כלל ערי העולם שנבדקו.
 
\end_layout

\begin_layout Standard

\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
בממוצע כל נסיעה מתארכת ב 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
46%
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מהזמן הנאיבי שלה )מרחק הנסיעה חלקי מהירות מקסימלית בכל אחד מהקטעים( בשל
 פקקים.
 התרשים הנ
\begin_inset Quotes erd
\end_inset

ל מתאר את העומס הממוצע בכבישים בכל אחת משעות היום ובכל אחד מימות השבוע.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename tel-aviv-congestion.png
	width 30page%

\end_inset


\end_layout

\begin_layout Subsection
תכנית פעולה
\end_layout

\begin_layout Standard
את העבודה ניתן לחלק למספר שלבים:
\end_layout

\begin_layout Enumerate
מציאת מידע מתאים.
 צריך לשים לב שחשובים לנו הדברים הבאים:
\end_layout

\begin_deeper
\begin_layout Enumerate
דגימה של אותו נתיב הנסיעה לאורך זמן
\end_layout

\begin_layout Enumerate
מספיק דגימות בזמנים שונים - שעות שונות, ימים שונים בשבוע, חודשים שונים,
 ימי חול וימי חופשה
\end_layout

\begin_layout Enumerate
בעבור כל נסיעה - לדעת מתי התחילה וכמה זמן לקחה בפועל.
\end_layout

\end_deeper
\begin_layout Enumerate
ביצוע רגרסייה על גבי המידע שתאפשר לנו לחזות את זמן הנסיעה ברמת דיוק מספיקה.
\begin_inset Newline newline
\end_inset

כדי לבצע רגרסייה כזו נצמיד את המידע על הנסיעות לנתונים נוספים:
\end_layout

\begin_deeper
\begin_layout Enumerate
מה היה מזג האוויר באותו היום - רוחות, גשמים, טמפרטורות
\end_layout

\begin_layout Enumerate
הצמדת היום לימי חופשה לאומיים
\end_layout

\end_deeper
\begin_layout Enumerate
ביצוע מינימיזציה על ה
\lang english
Regressor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שנקבל.
 
\begin_inset Newline newline
\end_inset

המינימיזציה מניחה יום כלשהו עם כל נתוני המסגרת שלו, והתנאים שלה היא שזמן
 תחילת הנסיעה נמצא בטווח הזמנים המבוקש.
 המינימיזציה מחזירה את זמן תחילת הנסיעה המינימלי לפי הרגרסייה שלנו.
\end_layout

\begin_layout Subsubsection
גיבוש מידע מתאים
\end_layout

\begin_layout Standard
התנאים המגבילים על המידע הנדרש המובאים לעיל הם תנאים מחמירים מאוד ורוב המידע
 בתחום זה איננו ציבורי.
\end_layout

\begin_layout Standard
בסופו של דבר, המידע שבו נעזרתי הוא מידע ציבורי על נסיעות מוניות ברחבי העיר
 ניו יורק 
\begin_inset Foot
status open

\begin_layout Plain Layout

\size normal
\lang english
https://archive.org/details/nycTaxiTripData2013
\end_layout

\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
.
 המידע נאסף בשנת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2013
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומכיל 
\lang english
173,179,759
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נסיעות מונית )
\lang english
29GB
\lang hebrew
( בכלל רחבי העיר ועל גבי כל ימות השנה.
\end_layout

\begin_layout Standard
עבודה משמעותית של איתור בכלל הנתונים הללו צריכה להתבצע כדי לענות על תנאי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
א המתואר לעיל, כלומר לבודד נסיעות הקורות בין שתי נקודות ספציפיות על המפה.
\begin_inset Newline newline
\end_inset

את המידע הנ
\begin_inset Quotes erd
\end_inset

ל מצליבים בקלות אל מול נתוני מזג אוויר
\begin_inset Foot
status open

\begin_layout Plain Layout

\lang english
https://www.kaggle.com/selfishgene/historical-hourly-weather-data
\end_layout

\end_inset

 וימי חופשה לאומיים בארצות הברית
\begin_inset Foot
status open

\begin_layout Plain Layout

\lang english
https://www.kaggle.com/gsnehaa21/federal-holidays-usa-19662020
\end_layout

\end_inset

.
 על כלל העבודה הנ
\begin_inset Quotes erd
\end_inset

ל יפורט בפרק ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
data preperation
\lang hebrew
.
\end_layout

\begin_layout Subsubsection
אתגר המינימיזציה
\end_layout

\begin_layout Standard
לאחר קבלת מודל הרגרסייה המבוקש, בעיית המינימיזצייה מעניינת כיוון שהיא משלבת
 שני קונספטים:
\end_layout

\begin_layout Itemize
מינימזציה של פונקצייה שהנגזרת שלה איננה ידועה
\end_layout

\begin_layout Itemize
מינימזציה של פונקציה עם אילוצים
\end_layout

\begin_layout Standard
במהלך הקורס למדנו כיצד ניתן למצוא מינימום לבעיות עם אילוצים בעזרת היכולת
 שלנו לגזור אותה.
 שיטות כמו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
KKT
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מאוד מוצלחות לפתרון בעיה זו.
\end_layout

\begin_layout Standard
כיוון שכאן הנגזרת לא ידועה היות והרגרסור שלנו איננו אנליטי, נמצא מינימום
 בעזרת שילוב שיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Penalty Method
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יחד עם אחת השיטות שלמדנו בהרצאות הראשונות של הקורס -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Nelder Mead
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)הידועה גם בשם 
\lang english
downhill simplex method
\lang hebrew
(.
 לאחר יישום השיטות הבסיסיות, ננסה לבצע היוריסטיקות שיאפשרו לנו למצוא מינימום
 גלובלי ולא לוקאלי.
\begin_inset Newline newline
\end_inset


\end_layout

\begin_layout Section
הבניית המידע -
\family roman
\series bold
\shape up
\size larger
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
data preperation
\end_layout

\begin_layout Subsection
חילוץ המידע המתאים
\end_layout

\begin_layout Standard
המידע כאמור שעליו ננסה לפתור את הבעיה הוא פירוט נסיעות מונית ברחבי העיר
 ניו יורק על גבי כל שנת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2013
\numeric off
.
 
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename data-sample.png
	width 70page%

\end_inset


\end_layout

\begin_layout Standard
המידע בתצורתו המקורית מכיל את הנתונים הבאים:
\end_layout

\begin_layout Itemize
נתוני מסגרת על הנסיעה: חברת המוניות, ו
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
ID
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של הנסיעה המיוצג בעמודות:
\lang english
 
\begin_inset Newline newline
\end_inset

medallion hack_license vendor_id rate_code store_and_fwd_flag
\end_layout

\begin_layout Itemize
כמות הנוסעים במונית
\begin_inset Newline newline
\end_inset


\lang english
passenger_count
\end_layout

\begin_layout Itemize
נתוני זמן: זמן תחילת וסיום הנסיעה, והזמן בשניות של הנסיעה כולה
\begin_inset Newline newline
\end_inset


\lang english
pickup_datetime dropoff_datetime
\lang hebrew
 
\lang english
trip_time_in_secs
\end_layout

\begin_layout Itemize
המרחק שעברה המונית בזמן הנסיעה )במיילים(
\begin_inset Newline newline
\end_inset


\lang english
trip_distance
\end_layout

\begin_layout Itemize
קאורדינטות: קאורדינטת ההתחלה וקאורדינטת הסיום
\begin_inset Newline newline
\end_inset


\lang english
pickup_longitude pickup_latitude dropoff_longitude dropoff_latitude
\end_layout

\begin_layout Standard
המידע עצמו מכיל נתוני נסיעות מכל רחבי העיר, ועל כן לא מתאים לפתרון הבעיה
 שאנחנו מנסים לפתור )אופטימיזציה של שעת היציאה ע
\begin_inset Quotes erd
\end_inset

ג מסלול בודד(.
\end_layout

\begin_layout Standard
על כן תחילה נצטרך להתמקד באיזור מסוים בו יש לנו מספיק נסיעות לאורך השנה.
\end_layout

\begin_layout Standard
התרשים הבא מציג את מיקומן של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
178
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שורות רנדומליות מתוך המידע שלנו ומדגיש עד כמה הנסיעות מפוזרות ע
\begin_inset Quotes erd
\end_inset

ג כלל העיר ניו יורק.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename new-york-spreading.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
על מנת להתמקד באיזורים ספציפיים, נעזר בספרייה ש
\begin_inset Quotes erd
\end_inset

מגרידה
\begin_inset Quotes erd
\end_inset

 )
\lang english
grid
\lang hebrew
( קאורדינטות.
 למעשה כל קאורדינטה הופכת לקוד מיוחד שמייצג תא שטח.
 אנחנו נייצר תאי שטח בקוטר של בערך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
250
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מטר על מנת שבכל איזור כזה יהיו לנו מספיק נקודות.
\end_layout

\begin_layout Standard
הקוד של תהליך ה
\begin_inset Quotes erd
\end_inset

הגרדה
\begin_inset Quotes erd
\end_inset

 נמצא בקובץ 
\lang english
extract_points_of_interest.py
\lang hebrew
.
 בשל כמות המידע הרבה שיש לנו )כ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
30GB
\lang hebrew
( אני נעזר בטכנולוגיית
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
SPARK
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שלמעשה באופן מבוזר יכולה לעבד כמויות כאלה של מידע.
\begin_inset Newline newline
\end_inset

הספרייה שאיתה אני מבצע את ה
\begin_inset Quotes erd
\end_inset

הגרדה
\begin_inset Quotes erd
\end_inset

 היא ספרייה של גוגל בשם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
openlocationcode
\lang hebrew
.
 עטפתי אותה בפונקציה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
convert_coordinate_to_grid
\lang hebrew
:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename grid-method.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
והחלתי אותה על ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Dataframe
\lang hebrew
:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename grid-method-apply.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
לאחר החלת ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
GRID
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ע
\begin_inset Quotes erd
\end_inset

ג כלל המידע, אני לוקח את
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
5
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
זוגות ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Grids
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)זה של תחילת הנסיעה וזה של סיום הנסיעה( שהופיעו הכי הרבה במידע, ואותם שומר
 בקבצים נפרדים )כדי שאוכל לאמן את המודל שלי עליהם בלבד(.
 התוצר של התהליך נכתב לנתיב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
data/trip_data_grids
\lang hebrew
.
\end_layout

\begin_layout Standard
יש לשים לב שאת כל ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
dataset
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המקורי לא צירפתי לפרויקט מפאת גודלו ובמידה ורוצים להריץ את התהליך עליו יש
 להוריד אותו בנפרד.
 במקומו צירפתי דוגמית של החומרים לנתיב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
data/trip_data_sample
\lang hebrew
.
\begin_inset Newline newline
\end_inset

ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
GRIDS
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
הכי פופולארים במידע היו 
\lang english
87G8Q225+, 87G8Q279+
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
, בהם יש כ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
35
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אלף נסיעות במהלך השנה.
 התרשים הבא מציג
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
120
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נסיעות מתוכן על גבי המפה, וניתן לראות שאכן התהליך מיקד אותנו לאיזורי עניין
 בתוך ניו יורק ותואם את ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
dataset
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אותו ניסינו להשיג במקור, כאשר יש שני ריכוזי נקודות, אחד עבור תחילת הנסיעה
 ואחד עבור סופה - 
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename new-york-grid-spreading.png
	width 20page%

\end_inset


\end_layout

\begin_layout Standard
במהלך העבודה עד שלב זה ניסיתי דרכים נוספות לפתרון הבעיה:
\end_layout

\begin_layout Itemize
שימוש ב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
grid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ממוקד יותר ברזולוצייה של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מטרים
\begin_inset Newline newline
\end_inset

האפשרות הזו נפסלה בגלל שהיא החזירה מעט מידי רשומות עבור תהליכי ההמשך.
 תהליך ה
\begin_inset Quotes erd
\end_inset

הגרדה
\begin_inset Quotes erd
\end_inset

 לא מאפשר רזולוצייה שבין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
250
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המטרים ל
\numeric on
2
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המטרים ולכן נאלצתי להסתפק ברזולוצייה זו.
\end_layout

\begin_layout Itemize
זניחת השימוש ב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
grid
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
והתבססות על מרחק אוקלידי בין נקודות
\begin_inset Newline newline
\end_inset

דרך זו קשה מאוד חישובית )למעשה היא 
\begin_inset Formula $O(n^{2})$
\end_inset

 כאשר 
\begin_inset Formula $n$
\end_inset

 מספר הרשומות( ולכן נזנחה.
\end_layout

\begin_layout Subsection
ויזואליזציה של המידע
\end_layout

\begin_layout Standard
בשלב זה ניתן להתחיל ולנתח את התפלגות המידע שקיבלנו.
\begin_inset Newline newline
\end_inset

הקוד ליצירת התרשימים הנ
\begin_inset Quotes erd
\end_inset

ל נמצא בקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
raw_data_stats.py
\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename trip_time_hist.png
	width 30page%

\end_inset


\begin_inset Graphics
	filename trip_distance_hist.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Graphics
	filename time_of_day_hist.png
	width 30page%

\end_inset


\begin_inset Graphics
	filename trip_speed_hist.png
	width 30page%

\end_inset


\end_layout

\begin_layout Subsection
\noindent
סיכום הפרק
\end_layout

\begin_layout Enumerate
הצלחנו לייצר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
dataset
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
35000
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
רשומות של נסיעות בין שני איזורים ספציפיים בעיר ניו יורק.
\begin_inset Newline newline
\end_inset

גיבשנו את המידע בעזרת תהליך סטנדרטי בתעשייה של הפיכת נ
\begin_inset Quotes erd
\end_inset

צ לתא שטח.
\end_layout

\begin_layout Enumerate
המידע )לפחות מבחינה ויזואלית( מתפלג באופן נורמלי גם בזמני הנסיעה וגם באורך
 הנסיעה, ונראה שיש לנו נתונים מספיקים ע
\begin_inset Quotes erd
\end_inset

ג כל שעות היום.
\begin_inset Newline newline
\end_inset

זה למעשה תואם את הציפיות הכלליות שלנו ממידע מסוג זה.
\end_layout

\begin_layout Standard
\begin_inset Separator plain
\end_inset


\end_layout

\begin_layout Section
בניית המודל
\end_layout

\begin_layout Subsection
הנדסת פיצ'רים מתאימים
\end_layout

\begin_layout Standard
כלל הקוד של הפרק הזה מופיע בנתיב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/model
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
תחת הקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
data_prep.py
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ותיקיית הקבצים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
features/
\end_layout

\begin_layout Subsubsection
חילוץ מתוך המידע הקיים
\end_layout

\begin_layout Standard
השלב הראשון בעבודה שלנו הוא חילוץ הנתונים מתוך המידע שיצרנו בפרק הקודם.
\end_layout

\begin_layout Standard
מרבית הנתונים בטבלה המקורית אינם מעניינים אותנו.
 אני לא רוצה ללמוד על נתונים כמו כמות הנוסעים במונית או חברת המוניות, היות
 ואלו נתונים שלא רלוונטים לבעיה שאני מנסה לפתור )נסיעה ברכב פרטי(.
 על כן מתוך המידע המקורי נשמור על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עמודות:
\end_layout

\begin_layout Itemize
זמן תחילת הנסיעה -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
pickup_datetime
\end_layout

\begin_layout Itemize
זמן הנסיעה הכולל בשניות -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
trip_time_in_secs
\end_layout

\begin_layout Itemize
מרחק הנסיעה הכולל במייל -
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
trip_distance
\end_layout

\begin_layout Standard
מעמודת 
\begin_inset Quotes eld
\end_inset

זמן תחילת הנסיעה
\begin_inset Quotes erd
\end_inset

 נחלץ את הפיצ'ר המרכזי - זמן תחילת הנסיעה בשניות מאז תחילת היום
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename data-prep-dates.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
בקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/model/features/date_parts.py
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתבצע פירוק של עמודת הזמן לגורמיה - אנחנו לוקחים מתוך הזמן שלושה מאפיינים
 - היום בשבוע, היום בחודש והחודש.
\end_layout

\begin_layout Standard
נשים לב שלמרות שבמרבית התהליכים המקבילים היינו מחלצים גם את השנה, כאן כל
 האירועים קרו באותה השנה ולכן לא נרצה לעוות את הלמידה שלנו בשל כך.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename datepart-cde.png
	width 30page%

\end_inset


\end_layout

\begin_layout Subsubsection
מזג אוויר
\end_layout

\begin_layout Standard
את הנתונים ניתן להצמיד לנתוני מזג אוויר התואמים את זמני הנסיעה.
 המידע של מזג האוויר הגיע מפרויקט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Kaggle
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומכיל נתונים שעתיים של מזג האוויר בניו יורק )ובערים נוספות( ע
\begin_inset Quotes erd
\end_inset

ג תקופת זמן של מספר שנים.
\begin_inset Newline newline
\end_inset

המידע מגיע ע
\begin_inset Quotes erd
\end_inset

ג מספר קבצים נפרדים, לפי המדד - טמפרטורה, לחות, כיוון הרוח, עוצמת הרוח,
 לחץ ברומטרי, ותיאור מילולי של מזג האוויר.
\begin_inset Newline newline
\end_inset

הטבלה הבאה מציגה דוגמת חומר מטבלת הטמפרטורות וטבלת התיאור המילולי.
 אפשר לשים לב שהטמפרטורות נתונות בקלווין, והזמנים נתונים בזמן
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
UTC
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)ולכן נצטרך להזיז אותם לזמן ניו יורק(
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename weather-description-demo.png
	width 30page%

\end_inset

 
\begin_inset Graphics
	filename weather-temperature-demo.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
הקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/model/features/weather.py
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
לוקח את נתוני מזג האוויר ומצמיד אותם בזה אחר זה לתוך הטבלה המקורית שלנו.
\begin_inset Newline newline
\end_inset

החיבור הוא טריוויאלי, המורכבות היחידה היא שינוי איזור הזמן.
\end_layout

\begin_layout Standard
על גבי החומרים השעתיים, אנחנו מחשבים גם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עמודות - הנתון המינימלי, המקסימלי והממוצע לאותו היום.
 הפונקציה הנ
\begin_inset Quotes erd
\end_inset

ל מעשירה את המידע השעתי בנתונים הללו:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename weather-enrich-means.png
	width 30page%

\end_inset


\end_layout

\begin_layout Subsubsection
חגים לאומיים בארצות הברית
\end_layout

\begin_layout Standard
אחד הפרמטרים המשמעותיים )אינטואיטיבית( על מצב התנועה בכבישים הוא האם מדובר
 ביום עבודה או ביום חופש לאומי, מתוך הנחה שבימי החופש התנועה מתנהגת אחרת
\begin_inset Newline newline
\end_inset

)מצד אחד - פחות תנועה למקומות העבודה, ומצד שני עלייה בתיירות(.
\end_layout

\begin_layout Standard
המידע עליו אני מתבסס מגיע גם הוא מפרויקט
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Kaggle
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ומכיל את כל החגים הלאומיים בארצות הברית בין השנים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1966
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2020
\numeric off
.
 כאן מעניין אותנו רק קיום בינארי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 - האם יום מסויים הוא יום חופש לאומי או לא.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename holidays-demo.png
	width 20page%

\end_inset


\end_layout

\begin_layout Standard
גם כאן ההצמדה פשוטה מאוד ומתבצעת בקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/model/features/holidays.py
\end_layout

\begin_layout Subsubsection
סינון אנומליות במידע
\end_layout

\begin_layout Standard
מתוך המידע שמתקבל נרצה לסנן מספר תופעות לא מוסברות שככל הנראה נובעות מהסנסורים
 שהפיקו במקור את הנתונים על מוניות.
\end_layout

\begin_layout Standard
ספציפית, מניתוח בסיסי ניתן לראות שלעתים יש רשומות עם אורך נסיעה ארוך או
 קצר מידי.
 
\begin_inset Newline newline
\end_inset

התרשים הבא הוא היסטוגרמת אורכי הנסיעה, כפי שהוצגה בפרק הקודם, רק ללא סינון
 על מרחק נסיעה מקסימלי:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename trip_distance_hist2.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
ניתן לראות שבאמת מרבית הנסיעות מרוכזת בטווח קטן מאוד, אך ככל הנראה ישנן
 נסיעות )פיקטיביות?( שאורכן גדול מאוד.
\end_layout

\begin_layout Standard
כדי להתמודד עם אנומליות כאלו, נסתכל על האחוזונים השונים של מרחק הנסיעה.
 אחוזון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
99%
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של מרחק הנסיעה הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
2
\numeric off
, ואחוזון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\begin_inset Formula $0.01\%$
\end_inset

 הוא 
\begin_inset Formula $0.65$
\end_inset

.
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Newline newline
\end_inset

על כן כדרך התמודדות נתבונן רק על רשומות בהן מרחק הנסיעה 
\begin_inset Formula $d$
\end_inset

 מקיים 
\begin_inset Formula $0.65\leq d\leq2$
\end_inset

.
 בזכות הסינון הנ
\begin_inset Quotes erd
\end_inset

ל נקבל היסטוגרמה הגיונית יותר:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename trip_distance_hist.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
את כל תהליך הוספת הפיצ'רים מבצעת הפונקציה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
data_prep
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שנמצאת תחת הקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/model/data_prep.py
\lang hebrew
: היא טוענת את המידע, מנקה אותו ומצמידה את כל הפיצ'רים המתוארים לעיל.
\end_layout

\begin_layout Subsection
אימון המודל
\end_layout

\begin_layout Subsubsection
אימון
\end_layout

\begin_layout Standard
המודל הנבחר לצורך ביצוע המשימה הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Random Forest Regressor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וזאת מפאת פשוטו בניתוח בעיות מהסוג הנ
\begin_inset Quotes erd
\end_inset

ל.
 כיוון שליבת הפרויקט איננה במימוש המודל )אלא בביצוע מינימיזציה עליו בסופו
 של התהליך(, לא אכביר בכל הניסיונות השונים בהרצת המודל עד להגעה לתוצאות
 המוצגות כאן.
 הרצת המודל מתבצעת בקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/model/model_learning.py
\end_layout

\begin_layout Standard
אנחנו מאמנים את המודל על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
%
\numeric on
80
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 מהמידע, עם 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
40
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
עצים שונים, שכל אחד מאומן על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
50%
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מהפיצ'רים שלנו.
 הגבלתי את מספר הדגימות בכל עלה בעץ ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
3
\numeric off
.
\end_layout

\begin_layout Standard
רשימת ה
\lang english
Features
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המלאה שלנו בשלב זה:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename features2.png
	width 30page%

\end_inset


\begin_inset Graphics
	filename features1.png
	width 30page%

\end_inset


\end_layout

\begin_layout Subsubsection
מדידת איכות המודל
\end_layout

\begin_layout Standard
על תוצאת המודל הרצנו את הבדיקות הבאות )אל מול המידע עליו התאמנו ואל מול
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
20%
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 מהחומרים שלא נכנסו לאימון(:
\end_layout

\begin_layout Itemize
הפרש זמנים בין הזמן האמיתי לזמן המנוחש ע
\begin_inset Quotes erd
\end_inset

י המודל: 
\begin_inset Formula $\left|T_{real}-T_{predict}\right|$
\end_inset


\end_layout

\begin_deeper
\begin_layout Itemize
תוחלת ההפרשים
\end_layout

\begin_layout Itemize
סטיית התקן של ההפרשים
\end_layout

\begin_layout Itemize
חציון ההפרשים
\end_layout

\begin_layout Itemize
אחוזון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
95
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של ההפרשים
\end_layout

\begin_layout Itemize
הפרש מינימלי והפרש מקסימלי
\end_layout

\end_deeper
\begin_layout Itemize
ציון 
\begin_inset Formula $R^{2}$
\end_inset

 למתאם המודל על התוצאות האמיתיות.
 ציון זה מופיע לנו על ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
train
\lang hebrew
, ה
\lang english
test
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
וה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
OOB
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)
\lang english
out of bag score
\lang hebrew
, באופן כללי חישוב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פרדיקציה על החומרים שלא נכנסו בתהליך הרנדומלי שבוחר חומרים לאימון(
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename random-forests-scores.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
התוצאות שקיבלנו אינן מושלמות )למשל ה 
\begin_inset Formula $R^{2}$
\end_inset

 על חומרי ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
test
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
נמוך ממה שהיינו רוצים(, אבל ניתן לראות שאחוזון
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
95%
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
של ההפרשים עומד על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
269
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שניות )פחות מ 
\begin_inset Formula $4.5$
\end_inset

 דקות(, שזה לחלוטין לא רע בהתחשב בכמות הפיצ'רים הקטנה שבה השתמשנו, וזה מספיק
 כדי שנוכל להתקדם הלאה.
\end_layout

\begin_layout Standard
מן הסתם, עבודה מאומצת שמטרתה המוצהרת היא לייצר מודל טוב יותר הייתה מניבה
 תוצאות מוצלחות יותר, אך כיוון שמדדי המודל אינם ליבת העבודה, אני מרשה לעצמי
 לעצור במצב הזה.
\end_layout

\begin_layout Standard
התרשים הבא מתאר את זמן הנסיעה המנוחש )בהפרשים של
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שניות( על פני כל שעות היום בתאריך
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
22/4/2013
\lang hebrew
:
\end_layout

\begin_layout Standard
ניתן לראות מהתרשים כמה דברים מעניינים:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename predict-noise.png
	width 30page%

\end_inset


\end_layout

\begin_layout Enumerate
המודל מצליח לזהות את התבנית של זמני עומס ושפל, באופן דומה לאופן שבו הגיוני
 לחשוב עליהם )בלילה - אין עומס, וישנם שני גלי עומס, בבוקר ולקראת ערב(
\end_layout

\begin_layout Enumerate
הפונקציה הנוצרת איננה רציפה, ויש בה הרבה מאוד 
\begin_inset Quotes eld
\end_inset

רעשים
\begin_inset Quotes erd
\end_inset

.
\begin_inset Newline newline
\end_inset

מינימיזציה על פונקציה רועשת כזו תביא אותנו למינימום לוקאלי מאוד ולא נכון.
\end_layout

\begin_layout Subsubsection
רציפות הפונקציה הנוצרת
\end_layout

\begin_layout Standard
על מנת שנוכל לבצע מינימיזציה מוצלחת על הפונקצייה הנ
\begin_inset Quotes erd
\end_inset

ל, נרצה לנקות אותה מרעשים ולהפוך אותה לרציפה.
\end_layout

\begin_layout Standard
לשם כך נעזר בטענה הבאה:
\end_layout

\begin_layout Claim
תהי 
\begin_inset Formula $f:\mathbb{R}\rightarrow\mathbb{R}$
\end_inset

 פונקציה אינטגרבילית )רימן( בתחום 
\begin_inset Formula $[a,b]$
\end_inset

 .
 יהי 
\begin_inset Formula $\epsilon>0$
\end_inset

 , הפונקציה 
\begin_inset Formula $g_{\epsilon}(x)=\int_{x-\epsilon}^{x+\epsilon}f(x)dx$
\end_inset

 רציפה לכל 
\begin_inset Formula $x\in(a,b)$
\end_inset

 .
\end_layout

\begin_layout Proof
יהי 
\begin_inset Formula $\delta>0$
\end_inset

 .
 נשים לב שמתקיים:
\end_layout

\begin_layout Proof
\begin_inset Formula 
\begin{align*}
\left|g_{\epsilon}(x)-g_{\epsilon}(x+\delta)\right| & =\left|\int_{x-\epsilon}^{x+\epsilon}f(x)dx-\int_{x-\epsilon+\delta}^{x+\epsilon+\delta}f(x)dx\right|\\
 & =\left|\int_{x+\epsilon}^{x+\epsilon+\delta}f(x)dx-\int_{x-\epsilon}^{x-\epsilon+\delta}f(x)dx\right|
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
היות והפונקציה 
\begin_inset Formula $f(x)$
\end_inset

 אינטגרבילית בתחום, היא גם חסומה בו.
 לכן ניתן להניח כי 
\begin_inset Formula $\left|f(x)\right|\leq M$
\end_inset

, ולכן:
\begin_inset Formula 
\begin{align*}
\left|\int_{x+\epsilon}^{x+\epsilon+\delta}f(x)dx-\int_{x-\epsilon}^{x-\epsilon+\delta}f(x)dx\right| & \leq\int_{x+\epsilon}^{x+\epsilon+\delta}Mdx+\int_{x-\epsilon}^{x-\epsilon+\delta}Mdx\\
 & =2\cdot\delta\cdot M
\end{align*}

\end_inset


\end_layout

\begin_layout Proof
מכלל הסנדוויץ', בגלל ש 
\begin_inset Formula $2\cdot\delta\cdot M\overset{\delta\rightarrow0}{\longrightarrow}0$
\end_inset

 מתקיים 
\begin_inset Formula $\left|g_{\epsilon}(x)-g_{\epsilon}(x+\delta)\right|\overset{\delta\rightarrow0}{\longrightarrow}0$
\end_inset

 כלומר 
\begin_inset Formula $g_{e}(x+\delta)\overset{\delta\rightarrow0}{\longrightarrow}g_{\epsilon}(x)$
\end_inset

.
\end_layout

\begin_layout Proof
לכן 
\begin_inset Formula $g_{\epsilon}(t)\overset{t\rightarrow x}{\longrightarrow}g_{\epsilon}(x)$
\end_inset

 לכל 
\begin_inset Formula $x\in(a,b)$
\end_inset

, משמע 
\begin_inset Formula $g_{\epsilon}$
\end_inset

 רציפה.
\end_layout

\begin_layout Remarks
כמובן שגם הפונקציה 
\begin_inset Formula $\frac{1}{2\epsilon}\int_{x-\epsilon}^{x+\epsilon}f(x)dx$
\end_inset

 היא רציפה.
\end_layout

\begin_layout Remarks
תהי החלוקה 
\begin_inset Formula $\{x_{n_{i}}\}_{i=0}^{n}$
\end_inset

 כאשר 
\begin_inset Formula $x-\epsilon=x_{n_{0}}<x_{n_{1}}<...<x_{n_{n}}=x+\epsilon$
\end_inset

 חלוקה ל
\begin_inset Formula $n$
\end_inset

 מקטעים.
 אזי:
\begin_inset Formula 
\begin{align*}
\frac{1}{2\epsilon}\int_{x-\epsilon}^{x+\epsilon}f(x)dx & =\lim_{n\rightarrow\infty}\frac{1}{2\epsilon}\cdot\sum_{i=1}^{n}f(x_{n_{i}})\cdot\frac{x+\epsilon-x+\epsilon}{n}\\
 & =\lim_{n\rightarrow\infty}\frac{1}{n}\cdot\sum_{i=1}^{n}f(x_{n_{i}})
\end{align*}

\end_inset


\end_layout

\begin_layout Remarks
על כן אם נבחר 
\begin_inset Formula $\epsilon>0$
\end_inset

, יתקיים 
\begin_inset Formula $\frac{1}{n}\cdot\sum_{i=1}^{n}f(x_{n_{i}})\overset{n\rightarrow\infty}{\longrightarrow}\frac{1}{2\epsilon}\int_{x-\epsilon}^{x+\epsilon}f(x)dx$
\end_inset

, ולכן נוכל לקחת 
\begin_inset Formula $n$
\end_inset

 מספיק גדול כדי לקבל קירוב לאינטגרל הנ
\begin_inset Quotes erd
\end_inset

ל.
\end_layout

\begin_layout Standard
לפי הטענה, מתוך הנחה שפונקציית ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
predict
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא אינטגרבילית בתחום הערכים של יום מסוים, נוכל 
\begin_inset Quotes eld
\end_inset

להחליק
\begin_inset Quotes erd
\end_inset

 אותה ע
\begin_inset Quotes erd
\end_inset

י קירוב האינטגרל הנ
\begin_inset Quotes erd
\end_inset

ל לכל נקודה.
\end_layout

\begin_layout Standard
בקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/model/pretty_predict.py
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
אנחנו מיישמים פונקציית פרדיקציה אלטרנטיבית שמחשבת את 
\series bold
ממוצע
\series default
 הפרדיקציות בסביבת הנקודה:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename pretty-predict.png.png
	width 50page%

\end_inset


\end_layout

\begin_layout Standard
הפונקציה מקבלת את המידע והמודל שיצרנו, יחד עם שורה ספציפית עליה אנחנו רוצים
 לבצע
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
predict
\lang hebrew
, היא מייצרת שורות בטווח ובכמות המוגדרות כפרמטר )ברירת המחדל כאן היא בטווח
 של 
\begin_inset Formula $\epsilon=1000_{sec}$
\end_inset

 לייצר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Formula $n=21$
\end_inset


\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דגימות(, ומחשבת את התוחלת של ה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
predict
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 עליהן.
\end_layout

\begin_layout Standard
כאשר נצייר גרף של אותו היום המתואר לעיל בשימוש בפונקציה החדשה, נקבל:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename pretty-predict-graph.png
	width 30page%

\end_inset


\end_layout

\begin_layout Subsubsection
סיכום הפרק
\end_layout

\begin_layout Enumerate
הצלחנו לייצר מודל שנותן ניבוי מוצלח של הבעיה שאותה אנחנו מנסים לפתור.
\begin_inset Newline newline
\end_inset

המודל רחוק מלהיות אידיאלי אך מדגים את הבעיה היטב.
\end_layout

\begin_layout Enumerate
הצלחנו לייצר מתוך המודל פונקציה שתאפשר לנו לבצע מינימיזציה, זאת בעזרת 
\begin_inset Quotes eld
\end_inset

החלקה
\begin_inset Quotes erd
\end_inset

 של הפונקציה כפי שיוצאת מהמודל עצמו.
\end_layout

\begin_layout Section
מינימיזציה
\end_layout

\begin_layout Subsection
הגדרת הבעיה
\end_layout

\begin_layout Standard
לאחר שקיבלנו את ה
\lang english
Regressor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
המבוקש, הגדרת הבעיה כרגע היא כזו:
\end_layout

\begin_layout Standard
יהי 
\begin_inset Formula $R:\mathbb{R}^{p}\rightarrow\mathbb{R}$
\end_inset

 ה
\lang english
Regressor
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 שלנו לאחר ההחלקה שלו, כאשר 
\begin_inset Formula $p$
\end_inset

 מספר הפיצ'רים שלנו.
 בהנתן זמן ביום 
\begin_inset Formula $t\in[0,86400]$
\end_inset

 , ווקטור 
\begin_inset Formula $\bar{x}\in\mathbb{R}^{p-1}$
\end_inset

 המכיל את יתר הפיצ'רים שלנו.
 נשים לב שכולם קבועים ביחס לאותו היום.
 
\begin_inset Formula $R(t,\bar{x})$
\end_inset

 הוא זמן הנסיעה הצפוי.
\end_layout

\begin_layout Standard
בעיית המינימיזציה שלנו היא כזו:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\min R(t,\bar{x})\\
\text{S.T.} & \ \ \ \ t\in[t_{min},t_{max}]\\
 & \ \ \ \ \bar{x}=\bar{x}_{today}
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
העובדה שהפיצ'ר היחידי שמשתנה במהלך היום הוא 
\begin_inset Formula $t$
\end_inset

 חשוב מאוד כי אנחנו למעשה נקבע את 
\begin_inset Formula $\bar{x}$
\end_inset

 לחלוטין לאותו היום ונבצע מינימיזציה עם אילוצי אי שיוויון על 
\begin_inset Formula $t$
\end_inset

 בלבד.
 למעשה זה שקול ליצירת פונקציה 
\begin_inset Formula $R_{\bar{x}}:\mathbb{R}\rightarrow\mathbb{R}$
\end_inset

 שמקבלת זמן 
\begin_inset Formula $t$
\end_inset

 ביום ומחזירה את זמן הנסיעה הצפוי.
 במקרה הזה בעיית האופטימיזציה שלנו ממוקדת עוד יותר:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\begin{align*}
\min R_{\bar{x}}(t)\\
\text{S.T.} & \ \ \ \ t\in[t_{min},t_{max}]
\end{align*}

\end_inset


\end_layout

\begin_layout Standard
את 
\begin_inset Formula $R_{\bar{x}}$
\end_inset

 ניצור בעזרת הפונקציה הבאה )שמקבלת את המודל שלנו ואת 
\begin_inset Formula $\bar{x}$
\end_inset

 ומחזירה לנו פונקציה חדשה(
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename regressor-wrapper.png
	width 30page%

\end_inset


\end_layout

\begin_layout Subsection
מימוש
\end_layout

\begin_layout Standard
כיוון והפונקציה 
\begin_inset Formula $R_{\bar{x}}$
\end_inset

 שלנו היא רציפה אך הנגזרת שלה איננה ידועה, המימוש שלנו יתבסס על שילוב בין
 שתי שיטות: שיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Penalty Method
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שתאפשר לנו להזניח את העיסוק באילוץ, ושיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Nelder Mead
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שתאפשר לנו למצוא מינימום לוקאלי ללא שימוש בנגזרות.
\end_layout

\begin_layout Standard
מימוש השיטות נמצא בנתיב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/minimization
\end_layout

\begin_layout Subsubsection
מימוש
\family roman
\series bold
\shape up
\size large
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Penalty Method
\end_layout

\begin_layout Standard
השיטה אומרת את הדבר הבא.
 תהי פונקציה 
\begin_inset Formula $f(x)$
\end_inset

 שלה אנחנו רוצים למצוא מינימום תחת האילוצים 
\begin_inset Formula $c_{i}(x)\leq0\ \ \forall i\in I$
\end_inset

,
\begin_inset Newline newline
\end_inset

אזי נוכל למצוא מינימום לפונקציה ללא אילוצים: 
\begin_inset Formula 
\[
P_{k}(x)=f(x)+\sigma_{k}\sum_{i\in I}\max(0,c_{i}(x))^{2}
\]

\end_inset


\end_layout

\begin_layout Standard
וכאשר 
\begin_inset Formula $\sigma_{k}\overset{k\rightarrow\infty}{\longrightarrow}\infty$
\end_inset

 , יתקיים 
\begin_inset Formula $\min P_{k}(x)\overset{k\rightarrow\infty}{\longrightarrow}\min f(x)$
\end_inset

 כאשר הכוונה היא שהמינימום של הפונקציה 
\begin_inset Formula $P$
\end_inset

 ללא אילוצים ישאף למינימום תחת האילוצים של 
\begin_inset Formula $f$
\end_inset

.
\end_layout

\begin_layout Standard
במקרה שלנו, לפונקציה 
\begin_inset Formula $R_{\bar{x}}(t)$
\end_inset

 ישנם שני אילוצים:
\end_layout

\begin_layout Standard
\begin_inset Formula 
\[
c(t)=\left(\begin{array}{c}
t-t_{max}\\
t_{min}-t
\end{array}\right)
\]

\end_inset


\end_layout

\begin_layout Standard
ולכן:
\begin_inset Formula 
\[
P_{k}(t)=R_{\bar{x}}(t)+\sigma_{k}\cdot\max(0,t-t_{max})^{2}+\sigma_{k}\cdot\max(0,t_{min}-t)^{2}
\]

\end_inset


\end_layout

\begin_layout Standard
הפונקציה הזו עוטפת את 
\begin_inset Formula $R_{\bar{x}}$
\end_inset

 ומחזירה את 
\begin_inset Formula $P_{k}(t)$
\end_inset

 :
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename penalty-method.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
כעת, בכל איטרציה נגדיל את 
\begin_inset Formula $\sigma_{k}$
\end_inset

 פי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\numeric off
, ונמצא מינימום לפונקציה הזו.
 נעצור כאשר ההפרש בין המינימום שמצאנו לקודם קטן מטווח שגיאה שנגדיר, או כשנגיע
 לרף האיטרציות שנגדיר.
 הפונקציה הבאה מיישמת את התהליך:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename penalty-minimum-finding.png
	width 30page%

\end_inset


\end_layout

\begin_layout Subsubsection
מימוש
\family roman
\series bold
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Nelder Mead
\end_layout

\begin_layout Standard
אלגוריתם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Nelder Mead
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
או בשמו האחר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Downhill Simplex
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 הוא אלגוריתם שנלמד בקצרה בכיתה.
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit

\begin_inset Newline newline
\end_inset

הוא אלגוריתם למציאת מינימום לפונקציה רב מימדית ללא שימוש בנגזרות.
\end_layout

\begin_layout Standard
הסיבה שהאלגוריתם הזה נבחר לעבודה הוא בגלל הפופולאריות שלו וההתכנסות המהירה
 שלו.
 היותו מיושם בהרבה מאוד ספריות בפייתון אפשרה לי לבדוק את נכונות המימוש בהשוואה
 מולם.
\end_layout

\begin_layout Standard
האלגוריתם עובד כך:
\end_layout

\begin_layout Standard
תהי 
\begin_inset Formula $f:\mathbb{R}^{n}\rightarrow\mathbb{R}$
\end_inset

.
 בכל רגע נתון הוא מחזיק 
\begin_inset Formula $x_{1},...,x_{n+1}$
\end_inset

 נקודות.
 יהיו 
\begin_inset Formula $\alpha>0,\ \gamma>1,\ 0<\rho<0.5,\ \sigma<1$
\end_inset


\end_layout

\begin_layout Enumerate
מיין את הנקודות לפי 
\begin_inset Formula $f$
\end_inset

 : 
\begin_inset Formula $f(x_{1})\leq...\leq f(x_{n+1})$
\end_inset


\end_layout

\begin_layout Enumerate
בדוק האם תנאי העצירה מתקיים
\end_layout

\begin_layout Enumerate
חשב את 
\begin_inset Formula $x_{0}=\frac{1}{n+1}\sum_{i=1}^{n+1}x_{i}$
\end_inset

 
\end_layout

\begin_layout Enumerate
שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Reflection
\series default
\lang hebrew
: חשב 
\begin_inset Formula $x_{r}=x_{0}+\alpha(x_{0}+x_{n+1})$
\end_inset

.
 במידה ומתקיים 
\begin_inset Formula $f(x_{1})\leq f(x_{r})\leq f(x_{n})$
\end_inset

, החלף 
\begin_inset Formula $x_{n+1}=x_{r}$
\end_inset

 וחזור ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
.
\end_layout

\begin_layout Enumerate
שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Expansion
\series default
\lang hebrew
: אם 
\begin_inset Formula $f(x_{r})<f(x_{1})$
\end_inset

 אז חשב 
\begin_inset Formula $x_{e}=x_{0}+\gamma(x_{r}-x_{0})$
\end_inset

.
 אם 
\begin_inset Formula $f(x_{e})<f(x_{r})$
\end_inset

 אז החלף 
\begin_inset Formula $x_{n+1}=x_{e}$
\end_inset

 וחזור ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\numeric off
, אחרת 
\begin_inset Formula $x_{n+1}=x_{r}$
\end_inset

 וחזור ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\begin_layout Enumerate
שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Contraction
\series default
\lang hebrew
: חשב 
\begin_inset Formula $x_{c}=x_{0}+\rho(x_{n+1}-x_{0})$
\end_inset

 .
 אם 
\begin_inset Formula $f(x_{c})<f(x_{n+1})$
\end_inset

 אז החלף 
\begin_inset Formula $x_{n+1}=x_{c}$
\end_inset

 וחזור ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\begin_layout Enumerate
שלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series bold
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Shrink
\series default
\lang hebrew
: החלף את הנקודות: 
\begin_inset Formula $x_{i}=x_{1}+\sigma(x_{i}-x_{1})\ \ \forall i>1$
\end_inset

 , וחזור לשלב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
1
\end_layout

\begin_layout Standard
כדי לייצר את 
\begin_inset Formula $x_{1},...,x_{n+1}$
\end_inset

 ההתחלתיים, ניקח את נקודת ההתחלה 
\begin_inset Formula $x$
\end_inset

 בשילוב עם ווקטורי היחידה: 
\begin_inset Formula 
\[
\forall1\leq i\leq n:x_{i}=x+e_{i},\ \ x_{n+1}=x
\]

\end_inset


\end_layout

\begin_layout Standard
המימוש של התהליך הנ
\begin_inset Quotes erd
\end_inset

ל מופיע בקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/minimization/nelder_mead.py
\lang hebrew
.
\end_layout

\begin_layout Subsection
הדגמת שימוש
\end_layout

\begin_layout Standard
התרשים הבא מתאר את זמן הנסיעה המנוחש ביום רנדומלי.
 במהלך השנה.
 הקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
app.py
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מדפיס תחילה את התרשים הנ
\begin_inset Quotes erd
\end_inset

ל, ולאחר מכן מוצא מינימום בקטע שבין השעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\numeric off
.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename travel-time-minimization.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
את מינימום זמן הנסיעה בטווח 
\begin_inset Formula $t\in[10\cdot60\cdot60,12\cdot60\cdot60]$
\end_inset

, נקודת ההתחלה ממנה התחלנו לחפש הוא
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שניות מתחילת היום, ואנחנו מבצעים
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
איטרציות על 
\begin_inset Formula $P_{k}(t)$
\end_inset

 )כלומר, מגדילים בכל פעם את 
\begin_inset Formula $\sigma_{k}$
\end_inset

 פי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\numeric off
(
\end_layout

\begin_layout Standard
המינימום שנמצא הוא בשעה 
\begin_inset Formula $10.31111=10^{\underline{19}}$
\end_inset

, שם זמן הנסיעה עומד על 
\begin_inset Formula $433.6610$
\end_inset

 שניות.
 מהתבוננות בתרשים ניתן לראות שזה באמת מינימום לוקאלי בטווח הזמנים, אך קיים
 מינימום גלובאלי בדיוק בקצה האיזור )בשעה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\numeric off
(.
\end_layout

\begin_layout Standard
ננסה לראות כיצד פרמטרים שונים להרצה יתנו תוצאות אחרות.
 כאשר שינינו את נקודת ההתחלה להיות בשעה
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
13
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
)אינטואיטיבית - אחרי הטווח שאנחנו מנסים לאתר בו, ולא לפניו( - קיבלנו מינימום
 בשעה 
\begin_inset Formula $11.9984\sim12^{\underline{00}}$
\end_inset

, שם התקבל זמן נסיעה של 
\begin_inset Formula $420.3702$
\end_inset

 שניות.
\end_layout

\begin_layout Standard
נשים לב שלמרות שהמינימום האמיתי נמצא ב
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בדיוק,
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Penalty Method
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתקשה להגיע לתשובה הנכונה בגלל הקרבה של הערך לפונקציית ה
\begin_inset Quotes erd
\end_inset

ענישה
\begin_inset Quotes erd
\end_inset

 שלנו.
 אם נצייר את 
\begin_inset Formula $P_{1}(t)$
\end_inset

, היא נראית כך:
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename minimize-penalty-graph.png
	width 30page%

\end_inset


\end_layout

\begin_layout Standard
ניתן להתגבר על כך ע
\begin_inset Quotes erd
\end_inset

י זה שנבצע בדיקה יזומה על הקצוות של הטווח ונשווה למינימום שמצאנו.
\end_layout

\begin_layout Standard
נבצע את הניסוי הבא:
\end_layout

\begin_layout Itemize
נבחר
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 תאריכים רנדומליים
\end_layout

\begin_layout Itemize
בעבור כל אחד - נחפש את המינימום בין השעות
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
12
\numeric off
 בשיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Nelder Mead
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
פעמיים - פעם אחת עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
0
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתור נקודת ההתחלה, ופעם שנייה עם
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 השעה 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
13
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
בתור נקודת ההתחלה.
\end_layout

\begin_layout Itemize
נריץ מינימיזציה נאיבית על הטווח - נרות על טווח השעות בין
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
10
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
ל
\numeric on
12
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 בקפיצות של 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
100
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
שניות בכל פעם, וניקח בסופו של דבר את הטווח שהחזיר ערך מינימלי בפונקציה.
 השיטה הזו מאוד לא יעילה אך תחזיר את המינימום הגלובלי בטווח הנבחר עם שגיאה
 של עד 
\begin_inset Formula $50$
\end_inset

 שניות לכל היותר.
\end_layout

\begin_layout Standard
מצורפות תוצאות הניסוי.
 בכחול - המינימום ש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Nelder Mean
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מצא שהוא גם המינימום הגלובלי לפי השיטה ה
\begin_inset Quotes erd
\end_inset

נאיבית
\begin_inset Quotes erd
\end_inset

.
 כל זוג עמודות מייצג שיטה אחרת למציאת המינימום, כאשר 
\begin_inset Formula $\text{argmin}$
\end_inset

 הוא הזמן )בשעות( ליציאה, ו
\begin_inset Formula $\min$
\end_inset

 הוא זמן הנסיעה המשוער )בשניות(.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename expirament_results.png
	width 40page%

\end_inset


\end_layout

\begin_layout Subsection
שיטות נוספות
\end_layout

\begin_layout Standard
כיוון שהתחום של 
\begin_inset Formula $P_{\bar{x}}(t)$
\end_inset

 הוא קו ישר 
\begin_inset Formula $[t_{min},t_{max}]$
\end_inset

, אפשר לנסות ולמצוא מינימום לוקאלי בטווח ע
\begin_inset Quotes erd
\end_inset

י 
\begin_inset Quotes eld
\end_inset

חיפוש בינארי
\begin_inset Quotes erd
\end_inset

 עליו.
\end_layout

\begin_layout Standard
בכל איטרציה )עד לתנאי העצירה(, ניקח את הטווח העדכני שלנו 
\begin_inset Formula $[x_{min},x_{max}]$
\end_inset

, ונחשב 
\begin_inset Formula $b=\frac{x_{max}+x_{min}}{2}$
\end_inset

 הממוצע בניהם.
\begin_inset Newline newline
\end_inset

כעת, נחשב 
\begin_inset Formula $x_{1}=\frac{b+x_{min}}{2},\ \ x_{2}=\frac{b+x_{max}}{2}$
\end_inset

.
 אם 
\begin_inset Formula $f(x_{1})<f(x_{2})$
\end_inset

 - 
\begin_inset Quotes eld
\end_inset

נלך שמאלה
\begin_inset Quotes erd
\end_inset

 ונחשב מינימום על 
\begin_inset Formula $[x_{min},x_{1}]$
\end_inset

.
 אחרת, 
\begin_inset Quotes eld
\end_inset

נלך ימינה
\begin_inset Quotes erd
\end_inset

 ונחשב מינימום על 
\begin_inset Formula $[x_{2},x_{max}]$
\end_inset

.
 
\begin_inset Newline newline
\end_inset

המימוש של השיטה נמצא בקובץ
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
python_code/minimization/binary_search.py
\end_layout

\begin_layout Standard
זו שיטה מאוד פשוטה שעובדת בזמני ריצה נהדרים, והיא עובדת רק משום שהתחום שלנו
 כל כך פשוט.
 כשנבצע את אותו הניסוי מקודם נקבל תוצאות טובות מאוד.
 גם כאן, בכחול מסומנים המקרים בהם החיפוש הבינארי התכנס לאותו מינימום גלובלי
 שהשיטה ה
\begin_inset Quotes erd
\end_inset

נאיבית
\begin_inset Quotes erd
\end_inset

 מצאה.
\end_layout

\begin_layout Standard
\align center
\begin_inset Graphics
	filename expirament_results_binary.png
	width 30page%

\end_inset


\end_layout

\begin_layout Section
סיכום
\end_layout

\begin_layout Standard
בסופו של דבר, הפתרון המוצג כאן בעבודה הוא פתרון לבעיה שלא למדנו במהלך השיעורים
 בקורס - מינימיזציה של פונקציות חסרות נגזרת עם אילוצים.
 הפתרון אליו הגעתי בסופו של דבר יצא פשוט ומוצלח.
\end_layout

\begin_layout Standard
כשחיפשתי בעיה עבור הפרויקט, רציתי מאוד לשלב תהליך למידה מקדים ועליו לבצע
 את המינימיזציה.
 כפי שניתן לראות, זו איננה בעיה פשוטה.
 בשלב מתקדם של הפרויקט הבנתי שהפונקציה שהמודל שלי מייצר לא מאפשרת לי למצוא
 מינימום אמיתי בגלל שהיא מאוד 
\begin_inset Quotes eld
\end_inset

רועשת
\begin_inset Quotes erd
\end_inset

, והייתי צריך לחשוב על טריק כדי להחליק אותה.
 התהליך המוצג כאן בעבודה הוא התוצאה של החשיבה הזו.
 כמובן שהוא איננו בא בחינם, היות וכל קריאה לפונקציה גורמת לעיבוד של פי
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
יותר חומרים )היות ואני לוקח עוד
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\numeric on
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
20
\family roman
\series medium
\shape up
\size normal
\emph off
\numeric off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
דגימות בסביבת הנקודה כדי לחשב את הממוצע בניהן(.
\end_layout

\begin_layout Standard
שיטת
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Penalty
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
היא שיטה שמאוד אהבתי גם במהלך הקורס, היות והיא נראית כמו פתרון 
\begin_inset Quotes eld
\end_inset

עוקף
\begin_inset Quotes erd
\end_inset

 מוצלח מאוד לבעית האילוצים.
 היות והצלחתי לעשות רדוקציה לבעיה בממימד אחד, יחסית פשוט להתגבר על נושא
 רגישות הקצוות בתחום, כי יש בסה
\begin_inset Quotes erd
\end_inset

כ שניים לבדיקה.
 כמובן שבפונקציה רב מימדית עם אילוצים מורכבים יותר זה לא עניין כזה פשוט.
 
\end_layout

\begin_layout Standard
אפשר לראות מתוצאות הניסוי הקטן שבוצע בפרק האחרון גם את המורכבות של הבעיה
 המקורית אותה רציתי לפתור.
 ניתן לשים לב שהזמן המינימלי ליציאה שונה כמעט בכל אחד מהימים, למרות שתמיד
 הסתכלתי על אותו טווח זמנים.
\end_layout

\begin_layout Standard
במהלך העבודה על הפרויקט ניסיתי מגוון שיטות רחב עד שהגעתי לשיטת הפתרון כפי
 שנראתה כאן:
\end_layout

\begin_layout Enumerate
החלפת שיטת המינימיזציה ל
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Golden Scaling
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 תוך וויתור על 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Penalty Method
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
- הפתרון עבד, אך זמן הריצה היה גבוה כיוון ש
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Golden Scaling
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
\lang hebrew
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
מתכנסת באופן ליניארי בלבד.
\end_layout

\begin_layout Enumerate
ניסיונות נוספים בהחלקת הפונקציה
\end_layout

\begin_layout Enumerate
מגוון פיצ'רים נוסף אותו ניסיתי לשיפור המודל
\end_layout

\begin_layout Enumerate
שיטות נוספות להבאת מידע רלוונטי לבעיה, והרצת ניסויים על
\family roman
\series medium
\shape up
\size normal
\emph off
\bar no
\strikeout off
\xout off
\uuline off
\uwave off
\noun off
\color none
 
\family default
\series default
\shape default
\size default
\emph default
\bar default
\strikeout default
\xout default
\uuline default
\uwave default
\noun default
\color inherit
\lang english
Dataset
\lang hebrew
ים אחרים עד שהחלטתי להשתמש במידע המוצג כאן.
\end_layout

\end_body
\end_document
